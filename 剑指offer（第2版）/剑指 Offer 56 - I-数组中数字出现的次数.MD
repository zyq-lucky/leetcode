## 剑指 Offer 56 - I. 数组中数字出现的次数

[原题链接戳这⬅️](https://leetcode-cn.com/problems/shu-zu-zhong-shu-zi-chu-xian-de-ci-shu-lcof/)

一个整型数组 nums 里除两个数字之外，其他数字都出现了两次。请写程序找出这两个只出现一次的数字。要求时间复杂度是O(n)，空间复杂度是O(1)。

**示例 1:**

> **输入:** nums = [4,1,4,6]
> **输出:** [1,6] 或 [6,1]

**示例 2:**

> **输入:** nums = [1,2,10,4,1,4,3,3]
> **输出:** [2,10] 或 [10,2]

### 解题思路

 - 根据题目要求，时间复杂度是O(n)，空间复杂度是O(1)，因此排除 **暴力法** 和 **哈希法**。
 - 已知异或运算满足：对任意整数 $a，a \oplus a = 0, 0 \oplus a = a$。因此，假设只有一个数字 $x$ 仅出现一次，那么遍历 $nums$ 中的数字执行异或运算，得到的值应为 $x$。
 - 考虑本题，假设两个出现一次的数字分别为 $x,y$。那么，如果能将 $nums$ 数组**拆分成两个子数组**，满足 $x,y$ 拆分在两个数组 ，且相同的数字包含在同一个子数组，则可以通过遍历异或运算得到最终结果。
 - 为实现拆分，我们需要一个评定标准，既能区分出 $x,y$，又能保证相同数字不被拆分，具体如下：
   - 遍历 $nums$ 数组执行异或运算，得到的值为 $x \oplus y$ 。
   - 找到 $x \oplus y$ 二进制值为 $1$ 的那一位，表示**数字 $x,y$ 在这位上的取值不同** 。
   - 因此，我们把在这一位上取值为 $1$ 的分为一组，取值为 $0$ 的分为一组。则，相同数字的取值一定相同所以在同一组，$x,y$ 在这位上的取值不同所以拆分在不同的组。
   - 最后，分别对两个子数组执行异或运算，即可得到 $x,y$ 。

```python
class Solution:
    def singleNumbers(self, nums: List[int]) -> List[int]:
        
        # 遍历 nums 数组执行异或运算，得到 n = x xor y
        n = 0
        for num in nums:
            n ^= num

        # 找到 n 取值为 1 的那一位
        m = 1
        while m & n == 0:
            m <<= 1

        # 根据 m 拆分得到两个子数组，分别求解
        x,y = 0,0
        for num in nums:
            if num & m: x ^= num
            else: y ^= num

        return [x,y]
```
